<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">

<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1"/>
  <meta name="generator" content="distill" />

  <style type="text/css">
  /* Hide doc at startup (prevent jankiness while JS renders/transforms) */
  body {
    visibility: hidden;
  }
  </style>

 <!--radix_placeholder_import_source-->
 <!--/radix_placeholder_import_source-->

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css" data-origin="pandoc">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ad0000; } /* Alert */
code span.an { color: #5e5e5e; } /* Annotation */
code span.at { color: #20794d; } /* Attribute */
code span.bn { color: #ad0000; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007ba5; } /* ControlFlow */
code span.ch { color: #20794d; } /* Char */
code span.cn { color: #8f5902; } /* Constant */
code span.co { color: #5e5e5e; } /* Comment */
code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
code span.dt { color: #ad0000; } /* DataType */
code span.dv { color: #ad0000; } /* DecVal */
code span.er { color: #ad0000; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #ad0000; } /* Float */
code span.fu { color: #4758ab; } /* Function */
code span.im { } /* Import */
code span.in { color: #5e5e5e; } /* Information */
code span.kw { color: #007ba5; } /* Keyword */
code span.op { color: #5e5e5e; } /* Operator */
code span.ot { color: #007ba5; } /* Other */
code span.pp { color: #ad0000; } /* Preprocessor */
code span.sc { color: #20794d; } /* SpecialChar */
code span.ss { color: #20794d; } /* SpecialString */
code span.st { color: #20794d; } /* String */
code span.va { color: #111111; } /* Variable */
code span.vs { color: #20794d; } /* VerbatimString */
code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
</style>

  <!--radix_placeholder_meta_tags-->
<title>Jiahui's Blog: DataViz Makeover #2</title>

<meta property="description" itemprop="description" content="A second evaluation of Singapore&#39;s Merchandize Trade over a longer timeline and more countries."/>


<!--  https://schema.org/Article -->
<meta property="article:published" itemprop="datePublished" content="2021-06-18"/>
<meta property="article:created" itemprop="dateCreated" content="2021-06-18"/>
<meta name="article:author" content="Lim Jiahui, Masters of IT in Business (Analytics)"/>

<!--  https://developers.facebook.com/docs/sharing/webmasters#markup -->
<meta property="og:title" content="Jiahui&#39;s Blog: DataViz Makeover #2"/>
<meta property="og:type" content="article"/>
<meta property="og:description" content="A second evaluation of Singapore&#39;s Merchandize Trade over a longer timeline and more countries."/>
<meta property="og:locale" content="en_US"/>
<meta property="og:site_name" content="Jiahui&#39;s Blog"/>

<!--  https://dev.twitter.com/cards/types/summary -->
<meta property="twitter:card" content="summary"/>
<meta property="twitter:title" content="Jiahui&#39;s Blog: DataViz Makeover #2"/>
<meta property="twitter:description" content="A second evaluation of Singapore&#39;s Merchandize Trade over a longer timeline and more countries."/>

<!--/radix_placeholder_meta_tags-->
  <!--radix_placeholder_rmarkdown_metadata-->

<script type="text/json" id="radix-rmarkdown-metadata">
{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["title","description","author","date","output"]}},"value":[{"type":"character","attributes":{},"value":["DataViz Makeover #2"]},{"type":"character","attributes":{},"value":["A second evaluation of Singapore's Merchandize Trade over a longer timeline and more countries."]},{"type":"list","attributes":{},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["name","url","affiliation","affiliation_url"]}},"value":[{"type":"character","attributes":{},"value":["Lim Jiahui, Masters of IT in Business (Analytics)"]},{"type":"character","attributes":{},"value":["https://www.linkedin.com/in/jiahui-lim-450/"]},{"type":"character","attributes":{},"value":["School of Computing and Information Systems, Singapore Management University"]},{"type":"character","attributes":{},"value":["https://scis.smu.edu.sg/"]}]}]},{"type":"character","attributes":{},"value":["06-18-2021"]},{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["distill::distill_article"]}},"value":[{"type":"list","attributes":{"names":{"type":"character","attributes":{},"value":["self_contained","toc","toc_float","toc_depth","number_sections"]}},"value":[{"type":"logical","attributes":{},"value":[false]},{"type":"logical","attributes":{},"value":[true]},{"type":"logical","attributes":{},"value":[true]},{"type":"integer","attributes":{},"value":[3]},{"type":"logical","attributes":{},"value":[true]}]}]}]}
</script>
<!--/radix_placeholder_rmarkdown_metadata-->
  
  <script type="text/json" id="radix-resource-manifest">
  {"type":"character","attributes":{},"value":["dataviz-2_files/anchor-4.2.2/anchor.min.js","dataviz-2_files/bowser-1.9.3/bowser.min.js","dataviz-2_files/distill-2.2.21/template.v2.js","dataviz-2_files/jquery-1.11.3/jquery.min.js","dataviz-2_files/kePrint-0.0.1/kePrint.js","dataviz-2_files/lightable-0.0.1/lightable.css","dataviz-2_files/popper-2.6.0/popper.min.js","dataviz-2_files/tippy-6.2.7/tippy-bundle.umd.min.js","dataviz-2_files/tippy-6.2.7/tippy-light-border.css","dataviz-2_files/tippy-6.2.7/tippy.css","dataviz-2_files/tippy-6.2.7/tippy.umd.min.js","dataviz-2_files/webcomponents-2.0.0/webcomponents.js","img/4.2.1.png","img/4.2.10.png","img/4.2.11.1.png","img/4.2.11.2.png","img/4.2.11.3.png","img/4.2.11.4.png","img/4.2.11.png","img/4.2.12.png","img/4.2.13.png","img/4.2.14.2.png","img/4.2.14.png","img/4.2.15.png","img/4.2.16.png","img/4.2.17.png","img/4.2.18.png","img/4.2.19.png","img/4.2.2.png","img/4.2.3.png","img/4.2.4.png","img/4.2.5.png","img/4.2.6.png","img/4.2.7.png","img/4.2.8.png","img/4.2.9.png","img/4.3.1.png","img/4.3.10.png","img/4.3.11.png","img/4.3.12.png","img/4.3.13.png","img/4.3.14.png","img/4.3.15.png","img/4.3.16.png","img/4.3.17.png","img/4.3.18.png","img/4.3.19.png","img/4.3.2.png","img/4.3.20.png","img/4.3.21.png","img/4.3.22.png","img/4.3.23.png","img/4.3.24.png","img/4.3.25.png","img/4.3.26.png","img/4.3.27.png","img/4.3.3.png","img/4.3.4.png","img/4.3.5.png","img/4.3.6.png","img/4.3.7.png","img/4.3.8.png","img/4.3.9.png","img/4.4.1.png","img/4.4.10.png","img/4.4.11.png","img/4.4.2.png","img/4.4.3.png","img/4.4.4.png","img/4.4.5.png","img/4.4.6.png","img/4.4.7.png","img/4.4.8.png","img/4.4.9.png","img/4.5.1.png","img/4.5.10.png","img/4.5.11.png","img/4.5.12.png","img/4.5.13.png","img/4.5.14.png","img/4.5.15.png","img/4.5.16.png","img/4.5.17.png","img/4.5.18.png","img/4.5.19.png","img/4.5.2.png","img/4.5.20.png","img/4.5.21.png","img/4.5.22.png","img/4.5.23.png","img/4.5.24.png","img/4.5.3.png","img/4.5.4.png","img/4.5.5.png","img/4.5.6.png","img/4.5.7.png","img/4.5.8.png","img/4.5.9.png","img/applying filter across all charts.png","img/download.png","img/Final Dashboard.png","img/Net Trade Value.png","img/Proposed Draft.png","img/Trade Value.png"]}
  </script>
  <!--radix_placeholder_navigation_in_header-->
<meta name="distill:offset" content="../.."/>

<script type="application/javascript">

  window.headroom_prevent_pin = false;

  window.document.addEventListener("DOMContentLoaded", function (event) {

    // initialize headroom for banner
    var header = $('header').get(0);
    var headerHeight = header.offsetHeight;
    var headroom = new Headroom(header, {
      tolerance: 5,
      onPin : function() {
        if (window.headroom_prevent_pin) {
          window.headroom_prevent_pin = false;
          headroom.unpin();
        }
      }
    });
    headroom.init();
    if(window.location.hash)
      headroom.unpin();
    $(header).addClass('headroom--transition');

    // offset scroll location for banner on hash change
    // (see: https://github.com/WickyNilliams/headroom.js/issues/38)
    window.addEventListener("hashchange", function(event) {
      window.scrollTo(0, window.pageYOffset - (headerHeight + 25));
    });

    // responsive menu
    $('.distill-site-header').each(function(i, val) {
      var topnav = $(this);
      var toggle = topnav.find('.nav-toggle');
      toggle.on('click', function() {
        topnav.toggleClass('responsive');
      });
    });

    // nav dropdowns
    $('.nav-dropbtn').click(function(e) {
      $(this).next('.nav-dropdown-content').toggleClass('nav-dropdown-active');
      $(this).parent().siblings('.nav-dropdown')
         .children('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $("body").click(function(e){
      $('.nav-dropdown-content').removeClass('nav-dropdown-active');
    });
    $(".nav-dropdown").click(function(e){
      e.stopPropagation();
    });
  });
</script>

<style type="text/css">

/* Theme (user-documented overrideables for nav appearance) */

.distill-site-nav {
  color: rgba(255, 255, 255, 0.8);
  background-color: #0F2E3D;
  font-size: 15px;
  font-weight: 300;
}

.distill-site-nav a {
  color: inherit;
  text-decoration: none;
}

.distill-site-nav a:hover {
  color: white;
}

@media print {
  .distill-site-nav {
    display: none;
  }
}

.distill-site-header {

}

.distill-site-footer {

}


/* Site Header */

.distill-site-header {
  width: 100%;
  box-sizing: border-box;
  z-index: 3;
}

.distill-site-header .nav-left {
  display: inline-block;
  margin-left: 8px;
}

@media screen and (max-width: 768px) {
  .distill-site-header .nav-left {
    margin-left: 0;
  }
}


.distill-site-header .nav-right {
  float: right;
  margin-right: 8px;
}

.distill-site-header a,
.distill-site-header .title {
  display: inline-block;
  text-align: center;
  padding: 14px 10px 14px 10px;
}

.distill-site-header .title {
  font-size: 18px;
  min-width: 150px;
}

.distill-site-header .logo {
  padding: 0;
}

.distill-site-header .logo img {
  display: none;
  max-height: 20px;
  width: auto;
  margin-bottom: -4px;
}

.distill-site-header .nav-image img {
  max-height: 18px;
  width: auto;
  display: inline-block;
  margin-bottom: -3px;
}



@media screen and (min-width: 1000px) {
  .distill-site-header .logo img {
    display: inline-block;
  }
  .distill-site-header .nav-left {
    margin-left: 20px;
  }
  .distill-site-header .nav-right {
    margin-right: 20px;
  }
  .distill-site-header .title {
    padding-left: 12px;
  }
}


.distill-site-header .nav-toggle {
  display: none;
}

.nav-dropdown {
  display: inline-block;
  position: relative;
}

.nav-dropdown .nav-dropbtn {
  border: none;
  outline: none;
  color: rgba(255, 255, 255, 0.8);
  padding: 16px 10px;
  background-color: transparent;
  font-family: inherit;
  font-size: inherit;
  font-weight: inherit;
  margin: 0;
  margin-top: 1px;
  z-index: 2;
}

.nav-dropdown-content {
  display: none;
  position: absolute;
  background-color: white;
  min-width: 200px;
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 4px;
  box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.1);
  z-index: 1;
  margin-top: 2px;
  white-space: nowrap;
  padding-top: 4px;
  padding-bottom: 4px;
}

.nav-dropdown-content hr {
  margin-top: 4px;
  margin-bottom: 4px;
  border: none;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.nav-dropdown-active {
  display: block;
}

.nav-dropdown-content a, .nav-dropdown-content .nav-dropdown-header {
  color: black;
  padding: 6px 24px;
  text-decoration: none;
  display: block;
  text-align: left;
}

.nav-dropdown-content .nav-dropdown-header {
  display: block;
  padding: 5px 24px;
  padding-bottom: 0;
  text-transform: uppercase;
  font-size: 14px;
  color: #999999;
  white-space: nowrap;
}

.nav-dropdown:hover .nav-dropbtn {
  color: white;
}

.nav-dropdown-content a:hover {
  background-color: #ddd;
  color: black;
}

.nav-right .nav-dropdown-content {
  margin-left: -45%;
  right: 0;
}

@media screen and (max-width: 768px) {
  .distill-site-header a, .distill-site-header .nav-dropdown  {display: none;}
  .distill-site-header a.nav-toggle {
    float: right;
    display: block;
  }
  .distill-site-header .title {
    margin-left: 0;
  }
  .distill-site-header .nav-right {
    margin-right: 0;
  }
  .distill-site-header {
    overflow: hidden;
  }
  .nav-right .nav-dropdown-content {
    margin-left: 0;
  }
}


@media screen and (max-width: 768px) {
  .distill-site-header.responsive {position: relative; min-height: 500px; }
  .distill-site-header.responsive a.nav-toggle {
    position: absolute;
    right: 0;
    top: 0;
  }
  .distill-site-header.responsive a,
  .distill-site-header.responsive .nav-dropdown {
    display: block;
    text-align: left;
  }
  .distill-site-header.responsive .nav-left,
  .distill-site-header.responsive .nav-right {
    width: 100%;
  }
  .distill-site-header.responsive .nav-dropdown {float: none;}
  .distill-site-header.responsive .nav-dropdown-content {position: relative;}
  .distill-site-header.responsive .nav-dropdown .nav-dropbtn {
    display: block;
    width: 100%;
    text-align: left;
  }
}

/* Site Footer */

.distill-site-footer {
  width: 100%;
  overflow: hidden;
  box-sizing: border-box;
  z-index: 3;
  margin-top: 30px;
  padding-top: 30px;
  padding-bottom: 30px;
  text-align: center;
}

/* Headroom */

d-title {
  padding-top: 6rem;
}

@media print {
  d-title {
    padding-top: 4rem;
  }
}

.headroom {
  z-index: 1000;
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
}

.headroom--transition {
  transition: all .4s ease-in-out;
}

.headroom--unpinned {
  top: -100px;
}

.headroom--pinned {
  top: 0;
}

/* adjust viewport for navbar height */
/* helps vertically center bootstrap (non-distill) content */
.min-vh-100 {
  min-height: calc(100vh - 100px) !important;
}

</style>

<script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
<link href="../../site_libs/font-awesome-5.1.0/css/all.css" rel="stylesheet"/>
<link href="../../site_libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet"/>
<script src="../../site_libs/headroom-0.9.4/headroom.min.js"></script>
<script src="../../site_libs/autocomplete-0.37.1/autocomplete.min.js"></script>
<script src="../../site_libs/fuse-6.4.1/fuse.min.js"></script>

<script type="application/javascript">

function getMeta(metaName) {
  var metas = document.getElementsByTagName('meta');
  for (let i = 0; i < metas.length; i++) {
    if (metas[i].getAttribute('name') === metaName) {
      return metas[i].getAttribute('content');
    }
  }
  return '';
}

function offsetURL(url) {
  var offset = getMeta('distill:offset');
  return offset ? offset + '/' + url : url;
}

function createFuseIndex() {

  // create fuse index
  var options = {
    keys: [
      { name: 'title', weight: 20 },
      { name: 'categories', weight: 15 },
      { name: 'description', weight: 10 },
      { name: 'contents', weight: 5 },
    ],
    ignoreLocation: true,
    threshold: 0
  };
  var fuse = new window.Fuse([], options);

  // fetch the main search.json
  return fetch(offsetURL('search.json'))
    .then(function(response) {
      if (response.status == 200) {
        return response.json().then(function(json) {
          // index main articles
          json.articles.forEach(function(article) {
            fuse.add(article);
          });
          // download collections and index their articles
          return Promise.all(json.collections.map(function(collection) {
            return fetch(offsetURL(collection)).then(function(response) {
              if (response.status === 200) {
                return response.json().then(function(articles) {
                  articles.forEach(function(article) {
                    fuse.add(article);
                  });
                })
              } else {
                return Promise.reject(
                  new Error('Unexpected status from search index request: ' +
                            response.status)
                );
              }
            });
          })).then(function() {
            return fuse;
          });
        });

      } else {
        return Promise.reject(
          new Error('Unexpected status from search index request: ' +
                      response.status)
        );
      }
    });
}

window.document.addEventListener("DOMContentLoaded", function (event) {

  // get search element (bail if we don't have one)
  var searchEl = window.document.getElementById('distill-search');
  if (!searchEl)
    return;

  createFuseIndex()
    .then(function(fuse) {

      // make search box visible
      searchEl.classList.remove('hidden');

      // initialize autocomplete
      var options = {
        autoselect: true,
        hint: false,
        minLength: 2,
      };
      window.autocomplete(searchEl, options, [{
        source: function(query, callback) {
          const searchOptions = {
            isCaseSensitive: false,
            shouldSort: true,
            minMatchCharLength: 2,
            limit: 10,
          };
          var results = fuse.search(query, searchOptions);
          callback(results
            .map(function(result) { return result.item; })
          );
        },
        templates: {
          suggestion: function(suggestion) {
            var img = suggestion.preview && Object.keys(suggestion.preview).length > 0
              ? `<img src="${offsetURL(suggestion.preview)}"</img>`
              : '';
            var html = `
              <div class="search-item">
                <h3>${suggestion.title}</h3>
                <div class="search-item-description">
                  ${suggestion.description || ''}
                </div>
                <div class="search-item-preview">
                  ${img}
                </div>
              </div>
            `;
            return html;
          }
        }
      }]).on('autocomplete:selected', function(event, suggestion) {
        window.location.href = offsetURL(suggestion.path);
      });
      // remove inline display style on autocompleter (we want to
      // manage responsive display via css)
      $('.algolia-autocomplete').css("display", "");
    })
    .catch(function(error) {
      console.log(error);
    });

});

</script>

<style type="text/css">

.nav-search {
  font-size: x-small;
}

/* Algolioa Autocomplete */

.algolia-autocomplete {
  display: inline-block;
  margin-left: 10px;
  vertical-align: sub;
  background-color: white;
  color: black;
  padding: 6px;
  padding-top: 8px;
  padding-bottom: 0;
  border-radius: 6px;
  border: 1px #0F2E3D solid;
  width: 180px;
}


@media screen and (max-width: 768px) {
  .distill-site-nav .algolia-autocomplete {
    display: none;
    visibility: hidden;
  }
  .distill-site-nav.responsive .algolia-autocomplete {
    display: inline-block;
    visibility: visible;
  }
  .distill-site-nav.responsive .algolia-autocomplete .aa-dropdown-menu {
    margin-left: 0;
    width: 400px;
    max-height: 400px;
  }
}

.algolia-autocomplete .aa-input, .algolia-autocomplete .aa-hint {
  width: 90%;
  outline: none;
  border: none;
}

.algolia-autocomplete .aa-hint {
  color: #999;
}
.algolia-autocomplete .aa-dropdown-menu {
  width: 550px;
  max-height: 70vh;
  overflow-x: visible;
  overflow-y: scroll;
  padding: 5px;
  margin-top: 3px;
  margin-left: -150px;
  background-color: #fff;
  border-radius: 5px;
  border: 1px solid #999;
  border-top: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion {
  cursor: pointer;
  padding: 5px 4px;
  border-bottom: 1px solid #eee;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion:last-of-type {
  border-bottom: none;
  margin-bottom: 2px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item {
  overflow: hidden;
  font-size: 0.8em;
  line-height: 1.4em;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item h3 {
  font-size: 1rem;
  margin-block-start: 0;
  margin-block-end: 5px;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-description {
  display: inline-block;
  overflow: hidden;
  height: 2.8em;
  width: 80%;
  margin-right: 4%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview {
  display: inline-block;
  width: 15%;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img {
  height: 3em;
  width: auto;
  display: none;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion .search-item-preview img[src] {
  display: initial;
}

.algolia-autocomplete .aa-dropdown-menu .aa-suggestion.aa-cursor {
  background-color: #eee;
}
.algolia-autocomplete .aa-dropdown-menu .aa-suggestion em {
  font-weight: bold;
  font-style: normal;
}

</style>


<!--/radix_placeholder_navigation_in_header-->
  <!--radix_placeholder_distill-->

<style type="text/css">

body {
  background-color: white;
}

.pandoc-table {
  width: 100%;
}

.pandoc-table>caption {
  margin-bottom: 10px;
}

.pandoc-table th:not([align]) {
  text-align: left;
}

.pagedtable-footer {
  font-size: 15px;
}

d-byline .byline {
  grid-template-columns: 2fr 2fr;
}

d-byline .byline h3 {
  margin-block-start: 1.5em;
}

d-byline .byline .authors-affiliations h3 {
  margin-block-start: 0.5em;
}

.authors-affiliations .orcid-id {
  width: 16px;
  height:16px;
  margin-left: 4px;
  margin-right: 4px;
  vertical-align: middle;
  padding-bottom: 2px;
}

d-title .dt-tags {
  margin-top: 1em;
  grid-column: text;
}

.dt-tags .dt-tag {
  text-decoration: none;
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0em 0.4em;
  margin-right: 0.5em;
  margin-bottom: 0.4em;
  font-size: 70%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

d-article table.gt_table td,
d-article table.gt_table th {
  border-bottom: none;
}

.html-widget {
  margin-bottom: 2.0em;
}

.l-screen-inset {
  padding-right: 16px;
}

.l-screen .caption {
  margin-left: 10px;
}

.shaded {
  background: rgb(247, 247, 247);
  padding-top: 20px;
  padding-bottom: 20px;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .html-widget {
  margin-bottom: 0;
  border: 1px solid rgba(0, 0, 0, 0.1);
}

.shaded .shaded-content {
  background: white;
}

.text-output {
  margin-top: 0;
  line-height: 1.5em;
}

.hidden {
  display: none !important;
}

d-article {
  padding-top: 2.5rem;
  padding-bottom: 30px;
}

d-appendix {
  padding-top: 30px;
}

d-article>p>img {
  width: 100%;
}

d-article h2 {
  margin: 1rem 0 1.5rem 0;
}

d-article h3 {
  margin-top: 1.5rem;
}

d-article iframe {
  border: 1px solid rgba(0, 0, 0, 0.1);
  margin-bottom: 2.0em;
  width: 100%;
}

/* Tweak code blocks */

d-article div.sourceCode code,
d-article pre code {
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
}

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: auto;
}

d-article div.sourceCode {
  background-color: white;
}

d-article div.sourceCode pre {
  padding-left: 10px;
  font-size: 12px;
  border-left: 2px solid rgba(0,0,0,0.1);
}

d-article pre {
  font-size: 12px;
  color: black;
  background: none;
  margin-top: 0;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

d-article pre a {
  border-bottom: none;
}

d-article pre a:hover {
  border-bottom: none;
  text-decoration: underline;
}

d-article details {
  grid-column: text;
  margin-bottom: 0.8em;
}

@media(min-width: 768px) {

d-article pre,
d-article div.sourceCode,
d-article div.sourceCode pre {
  overflow: visible !important;
}

d-article div.sourceCode pre {
  padding-left: 18px;
  font-size: 14px;
}

d-article pre {
  font-size: 14px;
}

}

figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

/* CSS for d-contents */

.d-contents {
  grid-column: text;
  color: rgba(0,0,0,0.8);
  font-size: 0.9em;
  padding-bottom: 1em;
  margin-bottom: 1em;
  padding-bottom: 0.5em;
  margin-bottom: 1em;
  padding-left: 0.25em;
  justify-self: start;
}

@media(min-width: 1000px) {
  .d-contents.d-contents-float {
    height: 0;
    grid-column-start: 1;
    grid-column-end: 4;
    justify-self: center;
    padding-right: 3em;
    padding-left: 2em;
  }
}

.d-contents nav h3 {
  font-size: 18px;
  margin-top: 0;
  margin-bottom: 1em;
}

.d-contents li {
  list-style-type: none
}

.d-contents nav > ul {
  padding-left: 0;
}

.d-contents ul {
  padding-left: 1em
}

.d-contents nav ul li {
  margin-top: 0.6em;
  margin-bottom: 0.2em;
}

.d-contents nav a {
  font-size: 13px;
  border-bottom: none;
  text-decoration: none
  color: rgba(0, 0, 0, 0.8);
}

.d-contents nav a:hover {
  text-decoration: underline solid rgba(0, 0, 0, 0.6)
}

.d-contents nav > ul > li > a {
  font-weight: 600;
}

.d-contents nav > ul > li > ul {
  font-weight: inherit;
}

.d-contents nav > ul > li > ul > li {
  margin-top: 0.2em;
}


.d-contents nav ul {
  margin-top: 0;
  margin-bottom: 0.25em;
}

.d-article-with-toc h2:nth-child(2) {
  margin-top: 0;
}


/* Figure */

.figure {
  position: relative;
  margin-bottom: 2.5em;
  margin-top: 1.5em;
}

.figure img {
  width: 100%;
}

.figure .caption {
  color: rgba(0, 0, 0, 0.6);
  font-size: 12px;
  line-height: 1.5em;
}

.figure img.external {
  background: white;
  border: 1px solid rgba(0, 0, 0, 0.1);
  box-shadow: 0 1px 8px rgba(0, 0, 0, 0.1);
  padding: 18px;
  box-sizing: border-box;
}

.figure .caption a {
  color: rgba(0, 0, 0, 0.6);
}

.figure .caption b,
.figure .caption strong, {
  font-weight: 600;
  color: rgba(0, 0, 0, 1.0);
}

/* Citations */

d-article .citation {
  color: inherit;
  cursor: inherit;
}

div.hanging-indent{
  margin-left: 1em; text-indent: -1em;
}

/* Citation hover box */

.tippy-box[data-theme~=light-border] {
  background-color: rgba(250, 250, 250, 0.95);
}

.tippy-content > p {
  margin-bottom: 0;
  padding: 2px;
}


/* Tweak 1000px media break to show more text */

@media(min-width: 1000px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 80px [middle-start] 50px [text-start kicker-end] 65px 65px 65px 65px 65px 65px 65px 65px [text-end gutter-start] 65px [middle-end] 65px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 16px;
  }

  .grid {
    grid-column-gap: 16px;
  }

  d-article {
    font-size: 1.06rem;
    line-height: 1.7em;
  }
  figure .caption, .figure .caption, figure figcaption {
    font-size: 13px;
  }
}

@media(min-width: 1180px) {
  .base-grid,
  distill-header,
  d-title,
  d-abstract,
  d-article,
  d-appendix,
  distill-appendix,
  d-byline,
  d-footnote-list,
  d-citation-list,
  distill-footer {
    grid-template-columns: [screen-start] 1fr [page-start kicker-start] 60px [middle-start] 60px [text-start kicker-end] 60px 60px 60px 60px 60px 60px 60px 60px [text-end gutter-start] 60px [middle-end] 60px [page-end gutter-end] 1fr [screen-end];
    grid-column-gap: 32px;
  }

  .grid {
    grid-column-gap: 32px;
  }
}


/* Get the citation styles for the appendix (not auto-injected on render since
   we do our own rendering of the citation appendix) */

d-appendix .citation-appendix,
.d-appendix .citation-appendix {
  font-size: 11px;
  line-height: 15px;
  border-left: 1px solid rgba(0, 0, 0, 0.1);
  padding-left: 18px;
  border: 1px solid rgba(0,0,0,0.1);
  background: rgba(0, 0, 0, 0.02);
  padding: 10px 18px;
  border-radius: 3px;
  color: rgba(150, 150, 150, 1);
  overflow: hidden;
  margin-top: -12px;
  white-space: pre-wrap;
  word-wrap: break-word;
}

/* Include appendix styles here so they can be overridden */

d-appendix {
  contain: layout style;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-top: 60px;
  margin-bottom: 0;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
  color: rgba(0,0,0,0.5);
  padding-top: 60px;
  padding-bottom: 48px;
}

d-appendix h3 {
  grid-column: page-start / text-start;
  font-size: 15px;
  font-weight: 500;
  margin-top: 1em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.65);
}

d-appendix h3 + * {
  margin-top: 1em;
}

d-appendix ol {
  padding: 0 0 0 15px;
}

@media (min-width: 768px) {
  d-appendix ol {
    padding: 0 0 0 30px;
    margin-left: -30px;
  }
}

d-appendix li {
  margin-bottom: 1em;
}

d-appendix a {
  color: rgba(0, 0, 0, 0.6);
}

d-appendix > * {
  grid-column: text;
}

d-appendix > d-footnote-list,
d-appendix > d-citation-list,
d-appendix > distill-appendix {
  grid-column: screen;
}

/* Include footnote styles here so they can be overridden */

d-footnote-list {
  contain: layout style;
}

d-footnote-list > * {
  grid-column: text;
}

d-footnote-list a.footnote-backlink {
  color: rgba(0,0,0,0.3);
  padding-left: 0.5em;
}



/* Anchor.js */

.anchorjs-link {
  /*transition: all .25s linear; */
  text-decoration: none;
  border-bottom: none;
}
*:hover > .anchorjs-link {
  margin-left: -1.125em !important;
  text-decoration: none;
  border-bottom: none;
}

/* Social footer */

.social_footer {
  margin-top: 30px;
  margin-bottom: 0;
  color: rgba(0,0,0,0.67);
}

.disqus-comments {
  margin-right: 30px;
}

.disqus-comment-count {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
  cursor: pointer;
}

#disqus_thread {
  margin-top: 30px;
}

.article-sharing a {
  border-bottom: none;
  margin-right: 8px;
}

.article-sharing a:hover {
  border-bottom: none;
}

.sidebar-section.subscribe {
  font-size: 12px;
  line-height: 1.6em;
}

.subscribe p {
  margin-bottom: 0.5em;
}


.article-footer .subscribe {
  font-size: 15px;
  margin-top: 45px;
}


.sidebar-section.custom {
  font-size: 12px;
  line-height: 1.6em;
}

.custom p {
  margin-bottom: 0.5em;
}

/* Styles for listing layout (hide title) */
.layout-listing d-title, .layout-listing .d-title {
  display: none;
}

/* Styles for posts lists (not auto-injected) */


.posts-with-sidebar {
  padding-left: 45px;
  padding-right: 45px;
}

.posts-list .description h2,
.posts-list .description p {
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

.posts-list .description h2 {
  font-weight: 700;
  border-bottom: none;
  padding-bottom: 0;
}

.posts-list h2.post-tag {
  border-bottom: 1px solid rgba(0, 0, 0, 0.2);
  padding-bottom: 12px;
}
.posts-list {
  margin-top: 60px;
  margin-bottom: 24px;
}

.posts-list .post-preview {
  text-decoration: none;
  overflow: hidden;
  display: block;
  border-bottom: 1px solid rgba(0, 0, 0, 0.1);
  padding: 24px 0;
}

.post-preview-last {
  border-bottom: none !important;
}

.posts-list .posts-list-caption {
  grid-column: screen;
  font-weight: 400;
}

.posts-list .post-preview h2 {
  margin: 0 0 6px 0;
  line-height: 1.2em;
  font-style: normal;
  font-size: 24px;
}

.posts-list .post-preview p {
  margin: 0 0 12px 0;
  line-height: 1.4em;
  font-size: 16px;
}

.posts-list .post-preview .thumbnail {
  box-sizing: border-box;
  margin-bottom: 24px;
  position: relative;
  max-width: 500px;
}
.posts-list .post-preview img {
  width: 100%;
  display: block;
}

.posts-list .metadata {
  font-size: 12px;
  line-height: 1.4em;
  margin-bottom: 18px;
}

.posts-list .metadata > * {
  display: inline-block;
}

.posts-list .metadata .publishedDate {
  margin-right: 2em;
}

.posts-list .metadata .dt-authors {
  display: block;
  margin-top: 0.3em;
  margin-right: 2em;
}

.posts-list .dt-tags {
  display: block;
  line-height: 1em;
}

.posts-list .dt-tags .dt-tag {
  display: inline-block;
  color: rgba(0,0,0,0.6);
  padding: 0.3em 0.4em;
  margin-right: 0.2em;
  margin-bottom: 0.4em;
  font-size: 60%;
  border: 1px solid rgba(0,0,0,0.2);
  border-radius: 3px;
  text-transform: uppercase;
  font-weight: 500;
}

.posts-list img {
  opacity: 1;
}

.posts-list img[data-src] {
  opacity: 0;
}

.posts-more {
  clear: both;
}


.posts-sidebar {
  font-size: 16px;
}

.posts-sidebar h3 {
  font-size: 16px;
  margin-top: 0;
  margin-bottom: 0.5em;
  font-weight: 400;
  text-transform: uppercase;
}

.sidebar-section {
  margin-bottom: 30px;
}

.categories ul {
  list-style-type: none;
  margin: 0;
  padding: 0;
}

.categories li {
  color: rgba(0, 0, 0, 0.8);
  margin-bottom: 0;
}

.categories li>a {
  border-bottom: none;
}

.categories li>a:hover {
  border-bottom: 1px solid rgba(0, 0, 0, 0.4);
}

.categories .active {
  font-weight: 600;
}

.categories .category-count {
  color: rgba(0, 0, 0, 0.4);
}


@media(min-width: 768px) {
  .posts-list .post-preview h2 {
    font-size: 26px;
  }
  .posts-list .post-preview .thumbnail {
    float: right;
    width: 30%;
    margin-bottom: 0;
  }
  .posts-list .post-preview .description {
    float: left;
    width: 45%;
  }
  .posts-list .post-preview .metadata {
    float: left;
    width: 20%;
    margin-top: 8px;
  }
  .posts-list .post-preview p {
    margin: 0 0 12px 0;
    line-height: 1.5em;
    font-size: 16px;
  }
  .posts-with-sidebar .posts-list {
    float: left;
    width: 75%;
  }
  .posts-with-sidebar .posts-sidebar {
    float: right;
    width: 20%;
    margin-top: 60px;
    padding-top: 24px;
    padding-bottom: 24px;
  }
}


/* Improve display for browsers without grid (IE/Edge <= 15) */

.downlevel {
  line-height: 1.6em;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  margin: 0;
}

.downlevel .d-title {
  padding-top: 6rem;
  padding-bottom: 1.5rem;
}

.downlevel .d-title h1 {
  font-size: 50px;
  font-weight: 700;
  line-height: 1.1em;
  margin: 0 0 0.5rem;
}

.downlevel .d-title p {
  font-weight: 300;
  font-size: 1.2rem;
  line-height: 1.55em;
  margin-top: 0;
}

.downlevel .d-byline {
  padding-top: 0.8em;
  padding-bottom: 0.8em;
  font-size: 0.8rem;
  line-height: 1.8em;
}

.downlevel .section-separator {
  border: none;
  border-top: 1px solid rgba(0, 0, 0, 0.1);
}

.downlevel .d-article {
  font-size: 1.06rem;
  line-height: 1.7em;
  padding-top: 1rem;
  padding-bottom: 2rem;
}


.downlevel .d-appendix {
  padding-left: 0;
  padding-right: 0;
  max-width: none;
  font-size: 0.8em;
  line-height: 1.7em;
  margin-bottom: 0;
  color: rgba(0,0,0,0.5);
  padding-top: 40px;
  padding-bottom: 48px;
}

.downlevel .footnotes ol {
  padding-left: 13px;
}

.downlevel .base-grid,
.downlevel .distill-header,
.downlevel .d-title,
.downlevel .d-abstract,
.downlevel .d-article,
.downlevel .d-appendix,
.downlevel .distill-appendix,
.downlevel .d-byline,
.downlevel .d-footnote-list,
.downlevel .d-citation-list,
.downlevel .distill-footer,
.downlevel .appendix-bottom,
.downlevel .posts-container {
  padding-left: 40px;
  padding-right: 40px;
}

@media(min-width: 768px) {
  .downlevel .base-grid,
  .downlevel .distill-header,
  .downlevel .d-title,
  .downlevel .d-abstract,
  .downlevel .d-article,
  .downlevel .d-appendix,
  .downlevel .distill-appendix,
  .downlevel .d-byline,
  .downlevel .d-footnote-list,
  .downlevel .d-citation-list,
  .downlevel .distill-footer,
  .downlevel .appendix-bottom,
  .downlevel .posts-container {
  padding-left: 150px;
  padding-right: 150px;
  max-width: 900px;
}
}

.downlevel pre code {
  display: block;
  border-left: 2px solid rgba(0, 0, 0, .1);
  padding: 0 0 0 20px;
  font-size: 14px;
}

.downlevel code, .downlevel pre {
  color: black;
  background: none;
  font-family: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  text-align: left;
  white-space: pre;
  word-spacing: normal;
  word-break: normal;
  word-wrap: normal;
  line-height: 1.5;

  -moz-tab-size: 4;
  -o-tab-size: 4;
  tab-size: 4;

  -webkit-hyphens: none;
  -moz-hyphens: none;
  -ms-hyphens: none;
  hyphens: none;
}

.downlevel .posts-list .post-preview {
  color: inherit;
}



</style>

<script type="application/javascript">

function is_downlevel_browser() {
  if (bowser.isUnsupportedBrowser({ msie: "12", msedge: "16"},
                                 window.navigator.userAgent)) {
    return true;
  } else {
    return window.load_distill_framework === undefined;
  }
}

// show body when load is complete
function on_load_complete() {

  // add anchors
  if (window.anchors) {
    window.anchors.options.placement = 'left';
    window.anchors.add('d-article > h2, d-article > h3, d-article > h4, d-article > h5');
  }


  // set body to visible
  document.body.style.visibility = 'visible';

  // force redraw for leaflet widgets
  if (window.HTMLWidgets) {
    var maps = window.HTMLWidgets.findAll(".leaflet");
    $.each(maps, function(i, el) {
      var map = this.getMap();
      map.invalidateSize();
      map.eachLayer(function(layer) {
        if (layer instanceof L.TileLayer)
          layer.redraw();
      });
    });
  }

  // trigger 'shown' so htmlwidgets resize
  $('d-article').trigger('shown');
}

function init_distill() {

  init_common();

  // create front matter
  var front_matter = $('<d-front-matter></d-front-matter>');
  $('#distill-front-matter').wrap(front_matter);

  // create d-title
  $('.d-title').changeElementType('d-title');

  // create d-byline
  var byline = $('<d-byline></d-byline>');
  $('.d-byline').replaceWith(byline);

  // create d-article
  var article = $('<d-article></d-article>');
  $('.d-article').wrap(article).children().unwrap();

  // move posts container into article
  $('.posts-container').appendTo($('d-article'));

  // create d-appendix
  $('.d-appendix').changeElementType('d-appendix');

  // flag indicating that we have appendix items
  var appendix = $('.appendix-bottom').children('h3').length > 0;

  // replace footnotes with <d-footnote>
  $('.footnote-ref').each(function(i, val) {
    appendix = true;
    var href = $(this).attr('href');
    var id = href.replace('#', '');
    var fn = $('#' + id);
    var fn_p = $('#' + id + '>p');
    fn_p.find('.footnote-back').remove();
    var text = fn_p.html();
    var dtfn = $('<d-footnote></d-footnote>');
    dtfn.html(text);
    $(this).replaceWith(dtfn);
  });
  // remove footnotes
  $('.footnotes').remove();

  // move refs into #references-listing
  $('#references-listing').replaceWith($('#refs'));

  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    var id = $(this).attr('id');
    $('.d-contents a[href="#' + id + '"]').parent().remove();
    appendix = true;
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('d-appendix'));
  });

  // show d-appendix if we have appendix content
  $("d-appendix").css('display', appendix ? 'grid' : 'none');

  // localize layout chunks to just output
  $('.layout-chunk').each(function(i, val) {

    // capture layout
    var layout = $(this).attr('data-layout');

    // apply layout to markdown level block elements
    var elements = $(this).children().not('details, div.sourceCode, pre, script');
    elements.each(function(i, el) {
      var layout_div = $('<div class="' + layout + '"></div>');
      if (layout_div.hasClass('shaded')) {
        var shaded_content = $('<div class="shaded-content"></div>');
        $(this).wrap(shaded_content);
        $(this).parent().wrap(layout_div);
      } else {
        $(this).wrap(layout_div);
      }
    });


    // unwrap the layout-chunk div
    $(this).children().unwrap();
  });

  // remove code block used to force  highlighting css
  $('.distill-force-highlighting-css').parent().remove();

  // remove empty line numbers inserted by pandoc when using a
  // custom syntax highlighting theme
  $('code.sourceCode a:empty').remove();

  // load distill framework
  load_distill_framework();

  // wait for window.distillRunlevel == 4 to do post processing
  function distill_post_process() {

    if (!window.distillRunlevel || window.distillRunlevel < 4)
      return;

    // hide author/affiliations entirely if we have no authors
    var front_matter = JSON.parse($("#distill-front-matter").html());
    var have_authors = front_matter.authors && front_matter.authors.length > 0;
    if (!have_authors)
      $('d-byline').addClass('hidden');

    // article with toc class
    $('.d-contents').parent().addClass('d-article-with-toc');

    // strip links that point to #
    $('.authors-affiliations').find('a[href="#"]').removeAttr('href');

    // add orcid ids
    $('.authors-affiliations').find('.author').each(function(i, el) {
      var orcid_id = front_matter.authors[i].orcidID;
      if (orcid_id) {
        var a = $('<a></a>');
        a.attr('href', 'https://orcid.org/' + orcid_id);
        var img = $('<img></img>');
        img.addClass('orcid-id');
        img.attr('alt', 'ORCID ID');
        img.attr('src','data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo1N0NEMjA4MDI1MjA2ODExOTk0QzkzNTEzRjZEQTg1NyIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDozM0NDOEJGNEZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDozM0NDOEJGM0ZGNTcxMUUxODdBOEVCODg2RjdCQ0QwOSIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M1IE1hY2ludG9zaCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkZDN0YxMTc0MDcyMDY4MTE5NUZFRDc5MUM2MUUwNEREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjU3Q0QyMDgwMjUyMDY4MTE5OTRDOTM1MTNGNkRBODU3Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+84NovQAAAR1JREFUeNpiZEADy85ZJgCpeCB2QJM6AMQLo4yOL0AWZETSqACk1gOxAQN+cAGIA4EGPQBxmJA0nwdpjjQ8xqArmczw5tMHXAaALDgP1QMxAGqzAAPxQACqh4ER6uf5MBlkm0X4EGayMfMw/Pr7Bd2gRBZogMFBrv01hisv5jLsv9nLAPIOMnjy8RDDyYctyAbFM2EJbRQw+aAWw/LzVgx7b+cwCHKqMhjJFCBLOzAR6+lXX84xnHjYyqAo5IUizkRCwIENQQckGSDGY4TVgAPEaraQr2a4/24bSuoExcJCfAEJihXkWDj3ZAKy9EJGaEo8T0QSxkjSwORsCAuDQCD+QILmD1A9kECEZgxDaEZhICIzGcIyEyOl2RkgwAAhkmC+eAm0TAAAAABJRU5ErkJggg==');
        a.append(img);
        $(this).append(a);
      }
    });

    // hide elements of author/affiliations grid that have no value
    function hide_byline_column(caption) {
      $('d-byline').find('h3:contains("' + caption + '")').parent().css('visibility', 'hidden');
    }

    // affiliations
    var have_affiliations = false;
    for (var i = 0; i<front_matter.authors.length; ++i) {
      var author = front_matter.authors[i];
      if (author.affiliation !== "&nbsp;") {
        have_affiliations = true;
        break;
      }
    }
    if (!have_affiliations)
      $('d-byline').find('h3:contains("Affiliations")').css('visibility', 'hidden');

    // published date
    if (!front_matter.publishedDate)
      hide_byline_column("Published");

    // document object identifier
    var doi = $('d-byline').find('h3:contains("DOI")');
    var doi_p = doi.next().empty();
    if (!front_matter.doi) {
      // if we have a citation and valid citationText then link to that
      if ($('#citation').length > 0 && front_matter.citationText) {
        doi.html('Citation');
        $('<a href="#citation"></a>')
          .text(front_matter.citationText)
          .appendTo(doi_p);
      } else {
        hide_byline_column("DOI");
      }
    } else {
      $('<a></a>')
         .attr('href', "https://doi.org/" + front_matter.doi)
         .html(front_matter.doi)
         .appendTo(doi_p);
    }

     // change plural form of authors/affiliations
    if (front_matter.authors.length === 1) {
      var grid = $('.authors-affiliations');
      grid.children('h3:contains("Authors")').text('Author');
      grid.children('h3:contains("Affiliations")').text('Affiliation');
    }

    // remove d-appendix and d-footnote-list local styles
    $('d-appendix > style:first-child').remove();
    $('d-footnote-list > style:first-child').remove();

    // move appendix-bottom entries to the bottom
    $('.appendix-bottom').appendTo('d-appendix').children().unwrap();
    $('.appendix-bottom').remove();

    // hoverable references
    $('span.citation[data-cites]').each(function() {
      var refHtml = $('#ref-' + $(this).attr('data-cites')).html();
      window.tippy(this, {
        allowHTML: true,
        content: refHtml,
        maxWidth: 500,
        interactive: true,
        interactiveBorder: 10,
        theme: 'light-border',
        placement: 'bottom-start'
      });
    });

    // clear polling timer
    clearInterval(tid);

    // show body now that everything is ready
    on_load_complete();
  }

  var tid = setInterval(distill_post_process, 50);
  distill_post_process();

}

function init_downlevel() {

  init_common();

   // insert hr after d-title
  $('.d-title').after($('<hr class="section-separator"/>'));

  // check if we have authors
  var front_matter = JSON.parse($("#distill-front-matter").html());
  var have_authors = front_matter.authors && front_matter.authors.length > 0;

  // manage byline/border
  if (!have_authors)
    $('.d-byline').remove();
  $('.d-byline').after($('<hr class="section-separator"/>'));
  $('.d-byline a').remove();

  // remove toc
  $('.d-contents').remove();

  // move appendix elements
  $('h1.appendix, h2.appendix').each(function(i, val) {
    $(this).changeElementType('h3');
  });
  $('h3.appendix').each(function(i, val) {
    $(this).nextUntil($('h1, h2, h3')).addBack().appendTo($('.d-appendix'));
  });


  // inject headers into references and footnotes
  var refs_header = $('<h3></h3>');
  refs_header.text('References');
  $('#refs').prepend(refs_header);

  var footnotes_header = $('<h3></h3');
  footnotes_header.text('Footnotes');
  $('.footnotes').children('hr').first().replaceWith(footnotes_header);

  // move appendix-bottom entries to the bottom
  $('.appendix-bottom').appendTo('.d-appendix').children().unwrap();
  $('.appendix-bottom').remove();

  // remove appendix if it's empty
  if ($('.d-appendix').children().length === 0)
    $('.d-appendix').remove();

  // prepend separator above appendix
  $('.d-appendix').before($('<hr class="section-separator" style="clear: both"/>'));

  // trim code
  $('pre>code').each(function(i, val) {
    $(this).html($.trim($(this).html()));
  });

  // move posts-container right before article
  $('.posts-container').insertBefore($('.d-article'));

  $('body').addClass('downlevel');

  on_load_complete();
}


function init_common() {

  // jquery plugin to change element types
  (function($) {
    $.fn.changeElementType = function(newType) {
      var attrs = {};

      $.each(this[0].attributes, function(idx, attr) {
        attrs[attr.nodeName] = attr.nodeValue;
      });

      this.replaceWith(function() {
        return $("<" + newType + "/>", attrs).append($(this).contents());
      });
    };
  })(jQuery);

  // prevent underline for linked images
  $('a > img').parent().css({'border-bottom' : 'none'});

  // mark non-body figures created by knitr chunks as 100% width
  $('.layout-chunk').each(function(i, val) {
    var figures = $(this).find('img, .html-widget');
    if ($(this).attr('data-layout') !== "l-body") {
      figures.css('width', '100%');
    } else {
      figures.css('max-width', '100%');
      figures.filter("[width]").each(function(i, val) {
        var fig = $(this);
        fig.css('width', fig.attr('width') + 'px');
      });

    }
  });

  // auto-append index.html to post-preview links in file: protocol
  // and in rstudio ide preview
  $('.post-preview').each(function(i, val) {
    if (window.location.protocol === "file:")
      $(this).attr('href', $(this).attr('href') + "index.html");
  });

  // get rid of index.html references in header
  if (window.location.protocol !== "file:") {
    $('.distill-site-header a[href]').each(function(i,val) {
      $(this).attr('href', $(this).attr('href').replace("index.html", "./"));
    });
  }

  // add class to pandoc style tables
  $('tr.header').parent('thead').parent('table').addClass('pandoc-table');
  $('.kable-table').children('table').addClass('pandoc-table');

  // add figcaption style to table captions
  $('caption').parent('table').addClass("figcaption");

  // initialize posts list
  if (window.init_posts_list)
    window.init_posts_list();

  // implmement disqus comment link
  $('.disqus-comment-count').click(function() {
    window.headroom_prevent_pin = true;
    $('#disqus_thread').toggleClass('hidden');
    if (!$('#disqus_thread').hasClass('hidden')) {
      var offset = $(this).offset();
      $(window).resize();
      $('html, body').animate({
        scrollTop: offset.top - 35
      });
    }
  });
}

document.addEventListener('DOMContentLoaded', function() {
  if (is_downlevel_browser())
    init_downlevel();
  else
    window.addEventListener('WebComponentsReady', init_distill);
});

</script>

<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */



html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.06rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #000000;
  --header-color:    rgba(0, 0, 0, 0.8);
  --body-color:      rgba(0, 0, 0, 0.8);
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    sans-serif;
  --mono-font:       monospace;
  --body-font:       sans-serif;
  --navbar-font:     sans-serif;  /* websites + blogs only */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.6rem;
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.8rem;
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);
  --text-size:       0.8em;
  --text-color:      rgba(0, 0, 0, 0.5);
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

.distill-site-footer {
  --text-color:       rgba(255, 255, 255, 0.8);
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #0F2E3D;
}

/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base variables */

/* Edit the CSS properties in this file to create a custom
   Distill theme. Only edit values in the right column
   for each row; values shown are the CSS defaults.
   To return any property to the default,
   you may set its value to: unset
   All rows must end with a semi-colon.                      */

/* Optional: embed custom fonts here with `@import`          */
/* This must remain at the top of this file.                 */
@import url('https://fonts.googleapis.com/css?family=Noto+Serif+JP:300, 300i&display=swap');
@import url('https://fonts.googleapis.com/css?family=Lato:400,400i,700&display=swap');
@import url('https://fonts.googleapis.com/css?family=IBM+Plex+Mono&display=swap');
@import url('https://fonts.googleapis.com/css2?family=Alata');

html {
  /*-- Main font sizes --*/
  --title-size:      50px;
  --body-size:       1.075rem;
  --code-size:       14px;
  --aside-size:      12px;
  --fig-cap-size:    13px;
  /*-- Main font colors --*/
  --title-color:     #34495E;
  --header-color:    #34495E;                    /* edited */
  --body-color:      rgba(0, 0, 0, 0.8);                    /* edited */
  --aside-color:     rgba(0, 0, 0, 0.6);
  --fig-cap-color:   rgba(0, 0, 0, 0.6);
  /*-- Specify custom fonts ~~~ must be imported above   --*/
  --heading-font:    "Alata", sans-serif; /* edited */
  --mono-font:       "IBM Plex Mono", monospace;  /* edited */
  --body-font:       "Lato", sans-serif;          /* edited */
  --navbar-font:     "Lato", sans-serif;          /* edited */
}

/*-- ARTICLE METADATA --*/
d-byline {
  --heading-size:    0.9rem;                      /* edited */
  --heading-color:   rgba(0, 0, 0, 0.5);
  --body-size:       0.95rem;                     /* edited */
  --body-color:      rgba(0, 0, 0, 0.8);
}

/*-- ARTICLE TABLE OF CONTENTS --*/
.d-contents {
  --heading-size:    18px;
  --contents-size:   13px;
}

/*-- ARTICLE APPENDIX --*/
d-appendix {
  --heading-size:    15px;
  --heading-color:   rgba(0, 0, 0, 0.65);      
  --text-size:       0.9rem;                    /* edited */
  --text-color:      #1a162d;                   /* edited */
}

/*-- WEBSITE HEADER + FOOTER --*/
/* These properties only apply to Distill sites and blogs  */

.distill-site-header {
  --title-size:       18px;
  --text-color:       #1f1f1f;                   /* edited */
  --text-size:        15px;
  --hover-color:      #787878;                   /* edited */
  --bkgd-color:       #EBEDEF;                      /* edited */
}

.distill-site-footer {
  --text-color:       #7e7b88;                   /* edited */
  --text-size:        15px;
  --hover-color:      white;
  --bkgd-color:       #ca225e3d;                 /* edited */
}

/*-- Additional custom styles --*/

ul > li::marker {
  color: #5D6D7E;
}

.distill-site-header { 
  letter-spacing: 2px;
  text-transform: uppercase;
}

h1, h2, h3, h4, h5, h6 {
  letter-spacing: 2px;
  font-weight: 700;
}

.distill-site-header .logo img{
  max-height: 40px; /* Makes logo bigger, default was 20px */
}

.distill-site-header {
  padding-top: 1rem;
}

d-title h1,
d-article h2,
.posts-list .description h2,
.posts-list > h1 {
    font-weight: 500;
}

d-appendix {
  background-color: #fdf7f9;
  border-top: none;
}
/*-- Additional custom styles --*/
/* Add any additional CSS rules below                      */
</style>
<style type="text/css">
/* base style */

/* FONT FAMILIES */

:root {
  --heading-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
  --mono-default: Consolas, Monaco, 'Andale Mono', 'Ubuntu Mono', monospace;
  --body-default: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell, "Fira Sans", "Droid Sans", "Helvetica Neue", Arial, sans-serif;
}

body,
.posts-list .post-preview p,
.posts-list .description p {
  font-family: var(--body-font), var(--body-default);
}

h1, h2, h3, h4, h5, h6,
.posts-list .post-preview h2,
.posts-list .description h2 {
  font-family: var(--heading-font), var(--heading-default);
}

d-article div.sourceCode code,
d-article pre code {
  font-family: var(--mono-font), var(--mono-default);
}


/*-- TITLE --*/
d-title h1,
.posts-list > h1 {
  color: var(--title-color, black);
}

d-title h1 {
  font-size: var(--title-size, 50px);
}

/*-- HEADERS --*/
d-article h1,
d-article h2,
d-article h3,
d-article h4,
d-article h5,
d-article h6 {
  color: var(--header-color, rgba(0, 0, 0, 0.8));
}

/*-- BODY --*/
d-article > p,  /* only text inside of <p> tags */
d-article > ul, /* lists */
d-article > ol {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
  font-size: var(--body-size, 1.06rem);
}


/*-- CODE --*/
d-article div.sourceCode code,
d-article pre code {
  font-size: var(--code-size, 14px);
}

/*-- ASIDE --*/
d-article aside {
  font-size: var(--aside-size, 12px);
  color: var(--aside-color, rgba(0, 0, 0, 0.6));
}

/*-- FIGURE CAPTIONS --*/
figure .caption,
figure figcaption,
.figure .caption {
  font-size: var(--fig-cap-size, 13px);
  color: var(--fig-cap-color, rgba(0, 0, 0, 0.6));
}

/*-- METADATA --*/
d-byline h3 {
  font-size: var(--heading-size, 0.6rem);
  color: var(--heading-color, rgba(0, 0, 0, 0.5));
}

d-byline {
  font-size: var(--body-size, 0.8rem);
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

d-byline a,
d-article d-byline a {
  color: var(--body-color, rgba(0, 0, 0, 0.8));
}

/*-- TABLE OF CONTENTS --*/
.d-contents nav h3 {
  font-size: var(--heading-size, 18px);
}

.d-contents nav a {
  font-size: var(--contents-size, 13px);
}

/*-- APPENDIX --*/
d-appendix h3 {
  font-size: var(--heading-size, 15px);
  color: var(--heading-color, rgba(0, 0, 0, 0.65));
}

d-appendix {
  font-size: var(--text-size, 0.8em);
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

d-appendix d-footnote-list a.footnote-backlink {
  color: var(--text-color, rgba(0, 0, 0, 0.5));
}

/*-- WEBSITE HEADER + FOOTER --*/
.distill-site-header .title {
  font-size: var(--title-size, 18px);
  font-family: var(--navbar-font), var(--heading-default);
}

.distill-site-header a,
.nav-dropdown .nav-dropbtn {
  font-family: var(--navbar-font), var(--heading-default);
}

.nav-dropdown .nav-dropbtn {
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  font-size: var(--text-size, 15px);
}

.distill-site-header a:hover,
.nav-dropdown:hover .nav-dropbtn {
  color: var(--hover-color, white);
}

.distill-site-header {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer {
  font-size: var(--text-size, 15px);
  color: var(--text-color, rgba(255, 255, 255, 0.8));
  background-color: var(--bkgd-color, #0F2E3D);
}

.distill-site-footer a:hover {
  color: var(--hover-color, white);
}</style>
<!--/radix_placeholder_distill-->
  <script src="../../site_libs/jquery-1.11.3/jquery.min.js"></script>
  <script src="../../site_libs/popper-2.6.0/popper.min.js"></script>
  <link href="../../site_libs/tippy-6.2.7/tippy.css" rel="stylesheet" />
  <link href="../../site_libs/tippy-6.2.7/tippy-light-border.css" rel="stylesheet" />
  <script src="../../site_libs/tippy-6.2.7/tippy.umd.min.js"></script>
  <script src="../../site_libs/anchor-4.2.2/anchor.min.js"></script>
  <script src="../../site_libs/bowser-1.9.3/bowser.min.js"></script>
  <script src="../../site_libs/webcomponents-2.0.0/webcomponents.js"></script>
  <script src="../../site_libs/distill-2.2.21/template.v2.js"></script>
  <!--radix_placeholder_site_in_header-->
<!--/radix_placeholder_site_in_header-->


</head>

<body>

<!--radix_placeholder_front_matter-->

<script id="distill-front-matter" type="text/json">
{"title":"DataViz Makeover #2","description":"A second evaluation of Singapore's Merchandize Trade over a longer timeline and more countries.","authors":[{"author":"Lim Jiahui, Masters of IT in Business (Analytics)","authorURL":"https://www.linkedin.com/in/jiahui-lim-450/","affiliation":"School of Computing and Information Systems, Singapore Management University","affiliationURL":"https://scis.smu.edu.sg/","orcidID":""}],"publishedDate":"2021-06-18T00:00:00.000+08:00","citationText":"(Analytics), 2021"}
</script>

<!--/radix_placeholder_front_matter-->
<!--radix_placeholder_navigation_before_body-->
<header class="header header--fixed" role="banner">
<nav class="distill-site-nav distill-site-header">
<div class="nav-left">
<a href="../../index.html" class="title">Jiahui's Blog</a>
<input id="distill-search" class="nav-search hidden" type="text" placeholder="Search..."/>
</div>
<div class="nav-right">
<a href="../../index.html">Home</a>
<div class="nav-dropdown">
<button class="nav-dropbtn">
DATAVIZ MAKEOVERS
 
<span class="down-arrow">&#x25BE;</span>
</button>
<div class="nav-dropdown-content">
<a href="https://limjiahui.netlify.app/posts/2021-05-21-dataviz-makeover-1/">DataViz #1</a>
<a href="https://limjiahui.netlify.app/posts/2021-05-22-dataviz-2/">DataViz #2</a>
</div>
</div>
<a href="../../about.html">About Me</a>
<a href="https://github.com/jiahui890">
<i class="fab fa-github" aria-hidden="true"></i>
</a>
<a href="javascript:void(0);" class="nav-toggle">&#9776;</a>
</div>
</nav>
</header>
<!--/radix_placeholder_navigation_before_body-->
<!--radix_placeholder_site_before_body-->
<!--/radix_placeholder_site_before_body-->

<div class="d-title">
<h1>DataViz Makeover #2</h1>
<!--radix_placeholder_categories-->
<!--/radix_placeholder_categories-->
<p><p>A second evaluation of Singapores Merchandize Trade over a longer timeline and more countries.</p></p>
</div>

<div class="d-byline">
  Lim Jiahui, Masters of IT in Business (Analytics) <a href="https://www.linkedin.com/in/jiahui-lim-450/" class="uri">https://www.linkedin.com/in/jiahui-lim-450/</a> (School of Computing and Information Systems, Singapore Management University)<a href="https://scis.smu.edu.sg/" class="uri">https://scis.smu.edu.sg/</a>
  
<br/>06-18-2021
</div>

<div class="d-article">
<div class="d-contents d-contents-float">
<nav class="l-text toc figcaption" id="TOC">
<h3>Contents</h3>
<ul>
<li><a href="#introduction">1. Introduction</a></li>
<li><a href="#evaluation">2. Evaluation</a><ul>
<li><a href="#clarity">2.1 Clarity</a></li>
<li><a href="#aesthetics">2.2 Aesthetics</a></li>
</ul></li>
<li><a href="#proposed-visualization-design">3. Proposed Visualization Design</a><ul>
<li><a href="#advantages-of-new-design">3.2 Advantages of New Design</a></li>
</ul></li>
<li><a href="#step-by-step-methodology">4. Step-by-Step Methodology</a><ul>
<li><a href="#data-source">4.1 Data Source</a></li>
<li><a href="#data-preparation">4.2 Data Preparation</a></li>
<li><a href="#data-visualization-1st-chart">4.3 Data Visualization (1st Chart)</a></li>
<li><a href="#data-visualization-2nd-chart">4.4 Data Visualization (2nd Chart)</a></li>
<li><a href="#dashboard">4.5 Dashboard</a></li>
</ul></li>
<li><a href="#final-visualization">5. Final Visualization</a><ul>
<li><a href="#main-observations">Main Observations</a></li>
</ul></li>
</ul>
</nav>
</div>
<blockquote>
<p>This post was written as part of requirements for Visual Analytics course in MITB.</p>
</blockquote>
<h2 id="introduction">1. Introduction</h2>
<p>For many countries, Singapore serves as an important port for trades and also heavily rely on imported goods for the countrys usage. Trades primarily consist of imports and exports, where imports refer to goods brought into Singapore irrespective of the uses, while exports refer to goods brought out of the country. In order to understand the movement of goods in Singapore, data visualization is important to help us discover meaningful insights that could potentially drive better decision-making and improvement of Singapores trades.</p>
<p>In this post, the original visualization chart of Singapores Merchandise Trade from <a href="https://www.singstat.gov.sg/modules/infographics/singapore-international-trade"><em>SingStat</em></a> will be critically reviewed and an improved alternate <code>interactive</code> design will be proposed.</p>
<h2 id="evaluation">2. Evaluation</h2>
<p>The original chart is as shown below, where it consists of major trading regions (in picture shows top 10: China, Malaysia, United States, European Union, Taiwan, Korea, Japan, Indonesia, Thailand and Hong Kong) between a time period of January 2011 to December 2020.</p>
<center>
<figure>
<img src="img/download.png" style="width:80.0%" alt="" /><figcaption>Figure 2.1: Original Chart from Singstat</figcaption>
</figure>
</center>
<p>Before evaluating the chart, primary research on the visualization was conducted in order to understand what are the purposes of this graph as well as key takeaways for the readers.</p>
<ul>
<li><strong>Audience:</strong> Government Agencies, policy-makers, businesses and individuals</li>
<li><strong>Purpose:</strong> To have a clear overview on which markets are the major net importers and exporters, as well as visualize the total trading volume with Singapore. The trade values used will be between a fixed time period of 2011 to 2020. The visualization will be made interactive for selected views.</li>
</ul>
<h3 id="clarity">2.1 Clarity</h3>
<table>
<thead>
<tr class="header">
<th>S/N</th>
<th>Critique</th>
<th>Approach</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h3 id="aesthetics">2.2 Aesthetics</h3>
<table>
<thead>
<tr class="header">
<th>S/N</th>
<th>Critique</th>
<th>Approach</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td></td>
<td></td>
</tr>
<tr class="even">
<td>2</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<h2 id="proposed-visualization-design">3. Proposed Visualization Design</h2>
<figure>
<img src="img/Proposed%20Draft.png" alt="" /><figcaption>Figure 3.1: Draft Design of the Proposed New Visual</figcaption>
</figure>
<h3 id="advantages-of-new-design">3.2 Advantages of New Design</h3>
<h2 id="step-by-step-methodology">4. Step-by-Step Methodology</h2>
<h3 id="data-source">4.1 Data Source</h3>
<p>We will be using the same datasets of import.csv and export.csv as <a href="https://limjiahui.netlify.app/posts/2021-05-21-dataviz-makeover-1/">DataViz Makeover #1</a>.</p>
<h3 id="data-preparation">4.2 Data Preparation</h3>
<p>As the raw dataset consists of multiple unwanted rows, columns and NA values, we will be doing some pre-processing on <strong>Tableau Desktop</strong>. For the purpose of this interactive visualization, we will be using all trading markets in the dataset.</p>
<div class="layout-chunk" data-layout="l-body">
<table>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="header">
<th>Steps</th>
<th style="text-align: center;">Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>1</td>
<td style="text-align: center;">Import the raw dataset into Tableau Desktop. From there, we can see 2 different tables - T1 and T2.<br/><img src="img/4.2.1.png" style="width:50.0%" alt="Figure" /><img src="img/4.2.2.png" style="width:50.0%" alt="Figure" /><br/>Click on <em>New Union</em> and drag both T1 and T2 and select <em>Apply</em>.</td>
</tr>
<tr class="even">
<td>2</td>
<td style="text-align: center;">The data table will be stacked and it should look something like this: <br/><img src="img/4.2.3.png" style="width:100.0%" alt="Figure" /><br/> Notice that the structure of the table is wrong, thus we can click on <em>Cleaned with Data Interpreter</em> at the side pane and it will automatically detect the exact table structure.<br/><img src="img/4.2.4.png" style="width:50.0%" alt="Figure" /><br/>The data table should now look like this:<br/><img src="img/4.2.5.png" alt="Figure" /><br/></td>
</tr>
<tr class="odd">
<td>3</td>
<td style="text-align: center;">We will now filter the dates to January 2011 to December 2020. Shift and hold to select all unwanted columns, right click and select <em>Hide</em>. <br/><img src="img/4.2.8.png" style="width:60.0%" alt="Figure" /><br/></td>
</tr>
<tr class="even">
<td>4</td>
<td style="text-align: center;">To convert the date columns to rows, we will use the <em>Pivot</em> function by right clicking the selected columns. <br/><img src="img/4.2.9.png" style="width:70.0%" alt="Figure" /><br/> We can then rename the pivoted columns accordingly.</td>
</tr>
<tr class="odd">
<td>5</td>
<td style="text-align: center;">Then, we shall rename the variables to shorter words for simiplicity and uniformity. Initially, the namings of the regions are very long and inconsistent as shown below.<br/><img src="img/4.2.11.1.png" style="width:80.0%" alt="Figure" /><br/> As there are many regions, it will take alot of time to rename all individually. Hence, we shall use the split function in Tableau. <br/><img src="img/4.2.11.2.png" style="width:80.0%" alt="Figure" /><br/> Great! Now tableau has automatically seperate the units and the region names. At the top right hand of the column, click on the tiny triangle and select <em>Aliases</em>. <br/><img src="img/4.2.10.png" style="width:60.0%" alt="Figure" /><br/> <br/><img src="img/4.2.11.3.png" style="width:90.0%" alt="Figure" /><br/> Now, we can check through the namings and rename those longer ones to their acronyms or shorter version. <br/><strong>Note:</strong> There are few regions that requires some prior knowledge and research before renaming, eg. Commonwealth of Independent States (CIS) is a group of states together, and Democratic Peoples Republic of Korea is North Korea. <br/> The final names should look like this: <br/><img src="img/4.2.11.4.png" style="width:90.0%" alt="Figure" /><br/> We shall rename this new column as Markets.</td>
</tr>
<tr class="even">
<td>7</td>
<td style="text-align: center;">Also, we can rename the <em>Table Name</em> to Type and change the aliases from T1 and T2 to Exports and Imports accordingly.<br/><img src="img/4.2.12.png" style="width:80.0%" alt="Figure" /><br/></td>
</tr>
<tr class="odd">
<td>8</td>
<td style="text-align: center;">After <em>split</em> function above, notice that the 2nd variable columns becomes like this: <br/><img src="img/4.2.16.png" style="width:80.0%" alt="Figure" /><br/> Hence, we shall filter those out to tidy up our table. At the top right corner of the page, click on <em>Add</em> under <em>Filter</em>. <br/><img src="img/4.2.17.png" style="width:70.0%" alt="Figure" /><br/> Select <em>Variables Split 2</em> and check on the Million and Thousand only. <br/><img src="img/4.2.18.png" style="width:70.0%" alt="Figure" /><br/> After that, click on Ok to apply.</td>
</tr>
<tr class="even">
<td>9</td>
<td style="text-align: center;">Note that the SGD values recorded are not consistent, where some are in SGD Millon Dollars, while the rest are in SGD Thousands. As the numbers are all big, we will standardize across all values to SGD Billion Dollars. Create a <em>Calculated Field</em> from the mini triangle again. <br/><img src="img/4.2.13.png" style="width:60.0%" alt="Figure" /><br/> We can enter the following formula to the field using if-else function and click <em>Apply</em>. <br/><img src="img/4.2.19.png" style="width:90.0%" alt="Figure" /><br/></td>
</tr>
<tr class="odd">
<td>10</td>
<td style="text-align: center;">Lastly, we shall change the Data type for the Date, from strings to Datetime format. <br/><img src="img/4.2.15.png" style="width:50.0%" alt="Figure" /><br/></td>
</tr>
</tbody>
</table>
</div>
<p>Viola! Our data is well-prepped and ready to be used for visual constructions.</p>
<h3 id="data-visualization-1st-chart">4.3 Data Visualization (1st Chart)</h3>
<p>For this first chart, we will be examining the net exports and imports trade value based on each individual markets, using a horizontal diverging lollipop chart.</p>
<h4 id="setting-up-the-plot">Setting up the Plot</h4>
<ol type="1">
<li>Open up a fresh empty worksheet, and drag <em>Markets</em> into <em>Rows</em> and <em>Filters</em> pane. Because we want to compare between the markets individually, we will filter out the Total Exports and Imports, as well as the Continents (Europe, Asia, America, Oceania, Africa). The filters should look like below, and once all is selected properly, click on <em>Apply</em>.</li>
</ol>
<center>
<figure>
<img src="img/4.3.1.png" style="width:50.0%" alt="" /><figcaption>Figure 4.3.1: Filtering Variables</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>Next, we will create a calculated field to show the net trade values. Right-click onto the Data pane and click on <em>Create Calculated Field</em>. We will use an if-else function to multiply the SGD value to negative if it its imports (aka sheet = T1). Hence, we can apply the formula as shown in Fig 4.3.3 and rename it to Net Trade Indicator.</li>
</ol>
<center>
<figure>
<img src="img/4.3.2.png" style="width:50.0%" alt="" /><figcaption>Figure 4.3.2: Creating Calculated Field</figcaption>
</figure>
<figure>
<img src="img/4.3.3.png" style="width:75.0%" alt="" /><figcaption>Figure 4.3.3: Inputting if-else functions</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>Now, drag the Net Trade Indicator into the <em>Columns</em>, and you can see a diverging bar chart already. In order to make it a lollipop shape, we have to use dual axis. Drag Net Trade Indicator again to columns to create this effect, but change the marks as Circle instead and thus it should look something like Fig 4.3.4.</li>
</ol>
<center>
<figure>
<img src="img/4.3.4.png" alt="" /><figcaption>Figure 4.3.4: Creating dual axis with different markings</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>Now, lets join them together into one axis. Right click on the x-axis and select on <em>Dual Axis</em>. After that, remember to <em>Synchronize Axis</em> so that the plots appear together in sync.</li>
</ol>
<center>
<p><img src="img/4.3.5.png" style="width:30.0%" alt="Figure 4.3.5: Making into one axis" /><img src="img/4.3.6.png" style="width:30.0%" alt="Figure 4.3.6: Synchronize Axis" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.5: Making into one axis and Synchronize</figcaption>
</figure>
</center>
<ol start="5" type="1">
<li>Note that after combining them, the shapes of the chart might be different. Do make sure that one of them is a circle, while the other is a bar graph. You can make the changes under the individual Marks pane (do not change the All marks pane!).</li>
</ol>
<center>
<figure>
<img src="img/4.3.7.png" style="width:30.0%" alt="" /><figcaption>Figure 4.3.6: Making into one axis</figcaption>
</figure>
</center>
<ol start="6" type="1">
<li>Next, we shall alter the size and colour for the charts. For the lollipop shape, we need the bar graph to be very thin while the circle to be larger. We can make the necessary changes in its individual Marks pane as well, under <em>Size</em> tab. We can also change the colours under <em>Color</em> accordingly to make the stem and head more distinct. Once the changes has been made, we have achieved our lollipop shape!</li>
</ol>
<center>
<p><img src="img/4.3.8.png" /><img src="img/4.3.9.png" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.7: Changing colours and sizes</figcaption>
</figure>
<figure>
<img src="img/4.3.10.png" style="width:70.0%" alt="" /><figcaption>Figure 4.3.8: Lollipop Shape</figcaption>
</figure>
</center>
<ol start="7" type="1">
<li>As the original purpose of the graph is to see Singapores <strong>Major</strong> trading partners, we shall now create a parameter called Top N Trading Partners. This parameter can also be used as a filter to change the N value based on what the viewer wish to see.
<ul>
<li>Right click at the Data Pane and select <em>Create Parameter</em>.</li>
<li>We shall create a list with integers from 5-20 with stepsize of 5.</li>
<li>In order to allow it to work as a filter for <em>Markets</em> variable, we can edit the <em>Markets</em> filter by navigating to the <em>Top</em> tab and select the <em>By field</em>, changing it to the name of the parameter we just created.</li>
<li>As we are interested in filtering by <strong>Total Sum of Imports and Exports value</strong>, we can select that condition under <em>by</em> drop down menu as well.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.3.12.png" style="width:40.0%" /><img src="img/4.3.13.png" style="width:55.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.9: Creating a list parameter</figcaption>
</figure>
<p><img src="img/4.3.14.png" style="width:50.0%" /><img src="img/4.3.16.png" style="width:50.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.10: Adding parameter into the filter</figcaption>
</figure>
</center>
<ol start="8" type="1">
<li>Let us now tidy up our graphs but adding the directional colours, labels and filters.
<ul>
<li>Firstly, we can change the colours based on the direction by dragging in Net Trade Indicator into the <em>Color</em> tab for the <strong>Circle</strong> graph. Click on the colour legend and change it into two-step colours.</li>
<li>Then, we shall drag the Net Trade Indicator into the <em>Label</em> tab for <strong>Circle</strong> graph and realign it to center.</li>
<li>As the numbers are quite long, we shall alter them into whole numbers for easier viewing. Right-click on the x-axis and select <em>Format</em>. Under the Default, we can customize the appearance of the numbers.</li>
<li>Lastly, we shall add our filters. Click on the parameter and select <em>Show Parameter</em>. We are also interested to see the changes across time, hence lets drag the <em>Date</em> variable into the <em>Filters</em> and display the years as a single value list.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.3.17.png" style="width:40.0%" /><img src="img/4.3.18.png" style="width:55.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.11: Changing of Colours and Label layout</figcaption>
</figure>
<p><img src="img/4.3.19.png" style="width:30.0%" /><img src="img/4.3.20.png" style="width:60.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.12: Making the labels to whole numbers</figcaption>
</figure>
<p><img src="img/4.3.21.png" style="width:40.0%" /><img src="img/4.3.22.png" style="width:50.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.3.13: Adding filters</figcaption>
</figure>
</center>
<ol start="9" type="1">
<li>To make our graph visibly clearer for readers, we shall add in a reference line as well as color-coded sections.
<ul>
<li>Right click onto the x-axis and select <em>Add Reference Line</em>.</li>
<li>Edit the parameters by changing the value to a constant 0, dotted line, as well as filled colours as shown in Fig 4.3.15.</li>
</ul></li>
</ol>
<center>
<figure>
<img src="img/4.3.23.png" style="width:40.0%" alt="" /><figcaption>Figure 4.3.14: Adding a reference line</figcaption>
</figure>
<figure>
<img src="img/4.3.24.png" style="width:60.0%" alt="" /><figcaption>Figure 4.3.14: Editing appearance of reference line and graph</figcaption>
</figure>
</center>
<h4 id="inserting-tooltip">Inserting Tooltip</h4>
<p>Lets now make the visual more interactive with the use of tooltips. We can edit the tooltip manually or by adding calculated fields.</p>
<ol type="1">
<li>First, we can create a calculated field that will differentiate net importers and exporters. Right-click on the data pane and select <em>Create Calculated Field</em>. Then, we can input the formula as shown below, naming it as <em>Net Trade_Type</em>:</li>
</ol>
<center>
<figure>
<img src="img/4.3.25.png" style="width:70.0%" alt="" /><figcaption>Figure 4.3.15: Calculated field for Tooltip</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>Drag this field into the <em>Tooltip</em> tab under Marks pane, and click on the tab. We shall edit the tooltip by clicking onto <em>Insert</em> and select the various fields highlighted. We can also further beautify the tooltip with bolding, colours and changing of font size etc. Our final edit will look similar to Fig 4.3.16.</li>
</ol>
<center>
<figure>
<img src="img/4.3.26.png" style="width:70.0%" alt="" /><figcaption>Figure 4.3.15: Inserting fields into Tooltip</figcaption>
</figure>
<figure>
<img src="img/4.3.27.png" style="width:70.0%" alt="" /><figcaption>Figure 4.3.15: Inserting fields into Tooltip</figcaption>
</figure>
</center>
<h4 id="final-graph">Final Graph</h4>
<p>And now our first chart is done! After a few finishing touches (hiding the top axis, renaming chart title, sort in descending), our final static diverging lollipop graph will look like this:</p>
<figure>
<img src="img/Net%20Trade%20Value.png" alt="" /><figcaption>Figure 4.3.17: Final Static Lollipop Graph for Net Trade Value</figcaption>
</figure>
<h3 id="data-visualization-2nd-chart">4.4 Data Visualization (2nd Chart)</h3>
<p>Moving on to the second chart, this graph will visualize the overall performance of each trading partners with Singapore via a bar and line chart combined together. We will also be using the same parameter filter and year filter for this chart.</p>
<h4 id="setting-up-the-plot-1">Setting up the Plot</h4>
<ol type="1">
<li><p>Create an empty sheet, and drag the <em>Markets</em> into the <em>Columns</em> panes. Similarly, we will filter the continents as well as total exports and imports out to focus on trading partners only. We can also add in the <em>Date</em> into <em>Filters</em> and also show the parameter as a filter as well, similar to the above chart.</p></li>
<li><p>Next, we shall generated two calculated fields, one for exports and the other for imports. We can simply divide them based on an if-else function for calculated fields as shown below.</p></li>
</ol>
<center>
<p><img src="img/4.4.1.png" style="width:50.0%" /><img src="img/4.4.2.png" style="width:50.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.4.1: Calculations for Imports and Exports</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>From here, we shall drag the <em>Measures Values</em> straight into the <em>Rows</em> pane. Note that there will many values, and thus we will drag all out except for the Exports and Imports. We can then change the type of graph to a line chart, and it should like something below:</li>
</ol>
<center>
<figure>
<img src="img/4.4.3.png" style="width:100.0%" alt="" /><figcaption>Figure 4.4.2: Line Graphs</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>Now, we shall add in the bar graph. Drag in <em>SGD (Billion)</em> into the <em>Rows</em> after the <em>Measure Values</em>. We can change the type of graph to bar chart, and also perform <em>Dual Axis</em> and <em>Synchronize Axis</em>.
<ul>
<li>Make sure to change the colours of the graph to make it more visible. Drag <em>Type</em> into the <em>Color</em> tab under the line graph Marks pane to get a distinguished colour for type of trade.</li>
<li>Additionally, sort the bar graph so that it appears in descending order. We can do so by clicking at the tiny icon beside the y-axis name of the bar chart.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.4.4.png" style="width:30.0%" /><img src="img/4.4.5.png" style="width:30.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.4.3: Formatting the Bar Graph into same axis</figcaption>
</figure>
</center>
<ol start="5" type="1">
<li>In order to make our graph more interactive, we shall add in an additional filter (that will also be used with the above chart simultaneously) that allow the users to choose the continent. Each continent will also contain the respective countries and regions, which can be found <a href="https://simple.wikipedia.org/wiki/List_of_countries_by_continents"><em>HERE</em></a>.
<ul>
<li>To do so, we will need to use the <em>Group</em> function and manually group them accordingly.</li>
<li>With reference to the link, we can group all regions into 5 continents: Asia, Africa, Europe, America and Oceania. Those that does not fit will be pushed to - category which we wont be touching at all.</li>
<li>Eventually, we will want to achieve something like Fig. 4.4.4.Rename the column as <em>Continents</em>.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.4.6.png" style="width:30.0%" /><img src="img/4.4.7.png" style="width:50.0%" /></p>
<figure>
<img src="img/4.4.8.png" style="width:50.0%" alt="" /><figcaption>Figure 4.4.4: Grouping into 5 continents</figcaption>
</figure>
</center>
<ol start="6" type="1">
<li>Next, we would want to add in this grouped data as a filter. Drag <em>Continents</em> into the <em>Filters</em>. As we want to allow <em>Top N Trading Partners</em> filter to be used together with the <em>Continents</em> filter, click on the mini triangle of the <em>Continents</em> filter and select <em>Add to Context</em>. Viola!! The top N partners shown will be based on the continents selected.</li>
</ol>
<center>
<figure>
<img src="img/4.4.9.png" style="width:40.0%" alt="" /><figcaption>Figure 4.4.5: Linking up both Continents and Top N Trading Partners filters</figcaption>
</figure>
</center>
<h4 id="insert-tooltip">Insert ToolTip</h4>
<p>Similarly, we would want to let our tooltips give a brief summary of the graphs.</p>
<ol type="1">
<li>Click onto the tooltip for the bar chart and edit it to the style you wish for it to see. You can also edit the line chart accordingly. One sample of the final output is shown below:</li>
</ol>
<center>
<p><img src="img/4.4.10.png" style="width:50.0%" /><img src="img/4.4.11.png" style="width:50.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.4.6: Creating tooltips for Bar and Line Graph accordingly</figcaption>
</figure>
</center>
<h4 id="final-graph-1">Final Graph</h4>
<p>Finally, we are done with the second chart! It is much easier as we have already generated the filters from previous chart. After some minor touch ups (renaming title, edit colours), the chart should look something like this:</p>
<figure>
<img src="img/Trade%20Value.png" alt="" /><figcaption>Figure 4.4.7: Final Static Bar and Line Graph</figcaption>
</figure>
<h3 id="dashboard">4.5 Dashboard</h3>
<p>Finally, lets compile all of our charts into the dashboard and make some final adjustments to the interactive portions.</p>
<ol type="1">
<li>Create an empty dashboard and drag in the Trade Value and Net Trade Value worksheets. For this dashboard, we will be using a fixed size of <em>Generic Desktop (1366 x 168)</em> due to the volatility of the net trade value which will cause some compression if sizing is set to automated. We will also check the <em>Show Dashboard title</em> and drag in <em>Blank</em> or <em>Text</em> objects to create spaces and captions.</li>
</ol>
<center>
<p><img src="img/4.5.1.png" style="width:40.0%" /><img src="img/4.5.2.png" style="width:50.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.5.1: Defining the sizing and dragging in tools for constructions</figcaption>
</figure>
</center>
<ol start="2" type="1">
<li>After dragging the charts in and arrange them side-by-side, we would want to alter the filters to ensure that it applies to both charts together. Right click on each filter, go to <em>Apply to Worksheets</em> and either choose <em>All Using This Data Source</em> or select the worksheets on the dashboard.</li>
</ol>
<center>
<figure>
<img src="img/4.5.3.png" style="width:60.0%" alt="" /><figcaption>Figure 4.5.2: Formatting the filters to be applied for both charts</figcaption>
</figure>
</center>
<ol start="3" type="1">
<li>Next, lets do some <strong>highlighting</strong> to make the visual more interactive.
<ul>
<li>First, lets make sure that the legend can be highlighted so that the bar and line graph can be shown distinctly.</li>
<li>Next, we will create a <em>Highlight</em> from <em>Actions</em> using <em>Markets</em> as selected fields for both Trade Value and Net Trade Value.</li>
</ul></li>
</ol>
<center>
<figure>
<img src="img/4.5.4.png" style="width:45.0%" alt="" /><figcaption>Figure 4.5.3: Highlighting of legend</figcaption>
</figure>
<p><img src="img/4.5.5.png" style="width:40.0%" /><img src="img/4.5.6.png" style="width:40.0%" /></p>
<figure>
<img src="img/4.5.7.png" style="width:50.0%" alt="" /><figcaption>Figure 4.5.4: Creating Highlighted Action</figcaption>
</figure>
</center>
<ol start="4" type="1">
<li>Notice that when we click onto the filters, the transitions are not very smooth? We can fix that by adding in <em>Animations</em> from the <em>Format</em> tab, followed by turning <em>On</em> the workbook default.</li>
</ol>
<center>
<p><img src="img/4.5.8.png" style="width:40.0%" /><img src="img/4.5.9.png" style="width:40.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.5.5: Creating Animations</figcaption>
</figure>
</center>
<ol start="5" type="1">
<li>Next, we will add in an info icon that will display useful information when hovered. This is not only an interactive feature, but also due to dashboard constraints, we can add in more information via the hover function.
<ul>
<li>Create an empty worksheet and rename it to Info.</li>
<li>Create a calculated field and we will type in Info. Apply the calculation.</li>
<li>Drag <em>Info</em> into the <em>Rows</em> pane. Right click on the sheet to hide away the title and header.</li>
<li>We will then change the Marks Pane to <em>Shape</em>, followed by clicking onto the <em>Shape</em> tab to select the type of shape we want.</li>
<li>We can further format the sheet by removing the gridlines as well as changing the background colour by right-clicking select <em>Format</em>.</li>
<li>To make it hoverable with the correct information, we shall edit the <em>Tooltip</em> accordingly.</li>
<li>Hence, the <strong>final</strong> text format for this icon should look something like in Fig 4.5.8.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.5.10.png" style="width:50.0%" /><img src="img/4.5.11.png" style="width:20.0%" /><img src="img/4.5.12.png" style="width:30.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.5.6: Formatting of the worksheet</figcaption>
</figure>
<p><img src="img/4.5.13.png" style="width:20.0%" /><img src="img/4.5.14.png" style="width:60.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.5.7: Creating Shape</figcaption>
</figure>
<figure>
<img src="img/4.5.15.png" style="width:60.0%" alt="" /><figcaption>Figure 4.5.8: Final Hover Information from Worksheet</figcaption>
</figure>
</center>
<ol start="6" type="1">
<li>Next, we shall include a graphical illustration into the hover information. To do so, we need to create a new graph from a new worksheet.
<ul>
<li>Drag <em>Date</em> and <em>Measure Values</em> into the <em>Columns</em> and <em>Rows</em> pane respectively.</li>
<li>Remove unwanted measured values so that only <em>Exports</em>, <em>Imports</em> and <em>Total (SGD Billion)</em> are left in the graph.</li>
<li>We shall annotate the graph, such that the lines are distinct. Drag the <em>Measure Names</em> and <em>Measure Values</em> into the <em>Label</em> tab. We can also drag in <em>Measure Names</em> to the <em>Color</em> tab to allow colours to distinguish the different trade types.</li>
<li>As we notice fluctuations at 2016 and 2018, we shall add in reference lines at those points. First, we change the <em>Date</em> type to continuous and then right-click on the axis to <em>Add Reference Line</em>.</li>
<li>Select the value to be a <em>Constant</em> and the date to be at the beginning of the respective year (eg. 1/1/2016). We can display the label to be the constant value and format the line to dotted as well as thinner line.</li>
<li>The final overview should look something like Fig 4.5.13.</li>
</ul></li>
</ol>
<center>
<figure>
<img src="img/4.5.18.png" style="width:60.0%" alt="" /><figcaption>Figure 4.5.10: Constructing of Line Graphs for Exports, Imports and Total Trade</figcaption>
</figure>
<figure>
<img src="img/4.5.19.png" style="width:30.0%" alt="" /><figcaption>Figure 4.5.11: Annotating the Graph</figcaption>
</figure>
<p><img src="img/4.5.20.png" style="width:30.0%" /><img src="img/4.5.21.png" style="width:30.0%" /></p>
<figure>
<img src="img/4.5.22.png" style="width:50.0%" alt="" /><figcaption>Figure 4.5.12: Adding Reference Lines</figcaption>
</figure>
<figure>
<img src="img/4.5.23.png" style="width:80.0%" alt="" /><figcaption>Figure 4.5.13: Final Overview</figcaption>
</figure>
</center>
<ol start="7" type="1">
<li>After that, to include this graph into the tooltip, we shall go to the Info sheets tooltip, select <em>Insert</em>, <em>Sheets</em> and click onto the line graph.</li>
</ol>
<center>
<figure>
<img src="img/4.5.24.png" style="width:70.0%" alt="" /><figcaption>Figure 4.5.14: Adding graph into Tooltip</figcaption>
</figure>
</center>
<ol start="8" type="1">
<li>Finally, lets input this hover icon into the dashboard.
<ul>
<li>Drag in the Info sheet into the dashboard and change the format to <em>Floating</em> so that we can position it to where we want.</li>
<li>Hide away the title of the sheet.</li>
<li>Lets also include a caption by dragging in the <em>Text</em> object, making it floating as well and edit it accordingly.</li>
</ul></li>
</ol>
<center>
<p><img src="img/4.5.16.png" style="width:30.0%" /><img src="img/4.5.17.png" style="width:30.0%" /></p>
<figure>
<img src="" style="width:0.0%" alt="" /><figcaption>Figure 4.5.9: Inserting the icon into Dashboard</figcaption>
</figure>
</center>
<p>Well done!! We are now set up for the visualization and ready to evaluate the observations we see!</p>
<h2 id="final-visualization">5. Final Visualization</h2>
<p>The final visualization screenshot is as shown below, and the interactive version can be accessed <a href="https://public.tableau.com/app/profile/lim.jiahui/viz/dataviz2_v2/FinalDashboard">HERE</a></p>
<figure>
<img src="img/Final%20Dashboard.png" alt="" /><figcaption>Figure 5.1: Final Dashboard (Static Image)</figcaption>
</figure>
<h3 id="main-observations">Main Observations</h3>
<ol type="1">
<li><strong>Top Trader</strong>:
<ul>
<li><p style="color:red">
this part of which is red!
</p></li>
</ul></li>
</ol>
<hr />
<center>
<p>Thats all for my dataviz makeover #2 post! Thanks for reading :)</p>
</center>
<h4 id="references">References</h4>
<ul>
<li><a href="https://www.statista.com/chart/18356/net-importers-and-exporters/">Statista</a></li>
<li><a href="https://isss608.netlify.app/dataviz/dataviz1#peer-learning">DataViz Peer Learning</a></li>
<li><a href="https://simple.wikipedia.org/wiki/List_of_countries_by_continents">Countries/Regions for each Continent</a></li>
</ul>
<div class="sourceCode" id="cb1"><pre class="sourceCode r distill-force-highlighting-css"><code class="sourceCode r"></code></pre></div>
<!--radix_placeholder_article_footer-->
<!--/radix_placeholder_article_footer-->
</div>

<div class="d-appendix">
</div>


<!--radix_placeholder_site_after_body-->
<!--/radix_placeholder_site_after_body-->
<!--radix_placeholder_appendices-->
<div class="appendix-bottom"></div>
<!--/radix_placeholder_appendices-->
<!--radix_placeholder_navigation_after_body-->
<!--/radix_placeholder_navigation_after_body-->

</body>

</html>
